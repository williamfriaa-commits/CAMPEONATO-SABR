<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Eventos SABR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial,sans-serif;color:#fff;background:#000 url("fundo-pc-1920x1080.png") center/cover no-repeat;}
@media(max-width:768px){body{background-image:url("fundo-mobile-1080x1920.png")}}
.overlay{min-height:100vh;background:rgba(0,0,0,.65);display:flex;align-items:center;justify-content:center;}
.content{text-align:center}
.logo{max-width:260px;width:80%;margin-bottom:20px}
h1{font-size:38px;margin:10px 0} p{opacity:.9}
.btn{display:block;width:320px;max-width:100%;padding:18px;margin:12px auto;border:none;border-radius:12px;font-size:18px;font-weight:bold;cursor:pointer;color:#fff;}
.btn-inscricao{background:linear-gradient(135deg,#22c55e,#16a34a)}
.btn-tabela{background:linear-gradient(135deg,#3b82f6,#2563eb)}
.btn-jornal{background:linear-gradient(135deg,#14b8a6,#0f766e)}
.btn-mix{background:linear-gradient(135deg,#0ea5e9,#0284c7)}
.btn-torneio{background:linear-gradient(135deg,#a855f7,#7c3aed)}
.btn-camp{background:linear-gradient(135deg,#f59e0b,#d97706)}
.btn-vetos{background:linear-gradient(135deg,#facc15,#eab308)}
.btn-voltar{background:#ef4444}
.tela{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:999;}
.box{background:#111;padding:25px;border-radius:15px;width:100%;max-width:420px;text-align:center;}
input{width:100%;padding:12px;border-radius:8px;border:none;margin-bottom:10px;}
button:disabled{opacity:.5;}
.pop-up{
  position:fixed;top:20px;left:50%;transform:translateX(-50%);
  background:#22c55e;color:#fff;padding:15px 25px;border-radius:12px;
  font-size:16px;font-weight:bold;opacity:0;transition:opacity .5s;
}
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>

<div class="overlay">
  <div class="content">
    <img src="logo.png" class="logo">
    <h1>EVENTOS SABR</h1>
    <p>GAMER SIGNAL Brasil</p>
    <button class="btn btn-inscricao" onclick="abrirEscolha()">ğŸ“ INSCREVER-SE</button>
    <a href="tabela.html" class="btn btn-tabela">ğŸ“Š VER TABELA</a>
    <a href="jornal.html" class="btn btn-jornal">ğŸ“° JORNAL SABR</a>
    <button class="btn btn-vetos" onclick="window.location.href='vetos.html'">ğŸ® Vetos de Mapas</button>
    <footer style="margin-top:30px;font-size:14px;opacity:.8">Â© 2026 â€¢ Eventos SABR</footer>
  </div>
</div>

<!-- ESCOLHA -->
<div id="telaEscolha" class="tela">
  <div class="content">
    <h1>ESCOLHA A INSCRIÃ‡ÃƒO</h1>
    <button class="btn btn-mix" onclick="abrirMix()">ğŸ® INSCRIÃ‡ÃƒO MIX</button>
    <button class="btn btn-torneio" onclick="abrirTorneio()">ğŸ† TORNEIO SAGS</button>
    <button class="btn btn-camp" onclick="alert('Em breve!')">ğŸ¥‡ INSCRIÃ‡ÃƒO CAMPEONATO</button>
    <button class="btn btn-voltar" onclick="fecharTudo()">âŒ VOLTAR</button>
  </div>
</div>

<!-- MIX -->
<div id="telaMix" class="tela">
  <div class="box">
    <h1>MIX SA</h1>
    <p><strong>Valor: R$ 4,00</strong></p>
    <input id="nomeMix" placeholder="Digite seu nick">
    <p><strong>PIX:</strong></p>
    <p id="pixMix">0601c368-3f42-4cef-82b5-5d64bbcb49ff</p>
    <button class="btn btn-torneio" onclick="copiarPix('pixMix')">ğŸ“‹ COPIAR PIX</button>
    <img src="qrcode-pix.png" width="150">
    <button class="btn btn-inscricao" onclick="iniciarMix()">ğŸ“Œ INSCREVER</button>
    <p id="tempoMix"></p>
    <div id="comprovanteMix" style="display:none;">
      <button class="btn btn-torneio" onclick="abrirZapMix()">ğŸ“© ENVIAR COMPROVANTE</button>
    </div>
    <button class="btn btn-torneio" id="btnFinalizarMix" onclick="finalizarMix()" disabled>âœ… FINALIZAR INSCRIÃ‡ÃƒO</button>
    <button class="btn btn-voltar" onclick="fecharTudo()">âŒ VOLTAR</button>
  </div>
</div>

<!-- TORNEIO SAGS -->
<div id="telaTorneio" class="tela">
  <div class="box">
    <h1>TORNEIO SAGS</h1>
    <input id="nickTorneio" placeholder="Digite seu nick">
    <input id="clanTorneio" placeholder="Nome do seu Clan">
    <p><strong>PIX:</strong></p>
    <p id="pixTorneio">0601c368-3f42-4cef-82b5-5d64bbcb49ff</p>
    <button class="btn btn-torneio" onclick="copiarPix('pixTorneio')">ğŸ“‹ COPIAR PIX</button>
    <img src="qrcode-pix.png" width="150">
    <p id="tempoTorneio"></p>
    <button class="btn btn-torneio" id="btnContinuarTorneio" onclick="mostrarComprovanteTorneio()" style="display:none;">â¡ CONTINUAR</button>
    <div id="comprovanteTorneioDiv" style="display:none; margin-top:15px;">
      <button class="btn btn-torneio" onclick="abrirZapTorneio()">ğŸ“© ENVIAR COMPROVANTE</button>
    </div>
    <button class="btn btn-torneio" id="btnFinalizarTorneio" onclick="finalizarTorneio()" disabled>âœ… FINALIZAR INSCRIÃ‡ÃƒO</button>
    <p id="resultadoTorneio"></p>
    <button class="btn btn-voltar" onclick="fecharTudo()">âŒ VOLTAR</button>
  </div>
</div>

<div id="popUp" class="pop-up"></div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_PROJETO.firebaseapp.com",
  projectId: "SEU_PROJETO",
  storageBucket: "SEU_PROJETO.appspot.com",
  messagingSenderId: "SUA_SENDER_ID",
  appId: "SUA_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Gerais
function abrirEscolha(){ document.getElementById("telaEscolha").style.display="flex"; }
function fecharTudo(){ document.querySelectorAll(".tela").forEach(t=>t.style.display="none"); }

// Copiar PIX
function copiarPix(id){
  const pix = document.getElementById(id).innerText;
  navigator.clipboard.writeText(pix);
  alert("PIX copiado!");
}

// Timer TORNEIO
let timerTorneio;
function startTimer(idElemento, duracao, botaoContinuar){
  let tempo = duracao;
  const elem = document.getElementById(idElemento);
  timerTorneio = setInterval(()=>{
    let min = String(Math.floor(tempo/60)).padStart(2,'0');
    let sec = String(tempo%60).padStart(2,'0');
    elem.innerText = `â± ${min}:${sec}`;
    if(tempo<=0){
      clearInterval(timerTorneio);
      document.getElementById(botaoContinuar).style.display="block";
      elem.style.display="none";
    }
    tempo--;
  },1000);
}

// TORNEIO
function abrirTorneio(){
  fecharTudo();
  document.getElementById("telaTorneio").style.display="flex";
  startTimer('tempoTorneio',60,'btnContinuarTorneio');
}
function mostrarComprovanteTorneio(){
  document.getElementById("comprovanteTorneioDiv").style.display="block";
}
function abrirZapTorneio(){
  const nick = document.getElementById("nickTorneio").value;
  const clan = document.getElementById("clanTorneio").value;
  const zapLink = `https://w.app/8mysvz`;
  window.open(zapLink, "_blank");
  document.getElementById("btnFinalizarTorneio").disabled = false;
}
function finalizarTorneio(){
  const nick = document.getElementById("nickTorneio").value;
  const clan = document.getElementById("clanTorneio").value;
  if(!nick||!clan){alert("Preencha os campos!");return;}
  db.collection("inscricoes").add({nick, clan, timestamp:firebase.firestore.FieldValue.serverTimestamp()})
    .then(()=>{
      showPopUp(`âœ… Cadastrado com sucesso!<br>SÃ³ serÃ¡ confirmado quando chegar o comprovante no WhatsApp.`);
    }).catch(err=>{alert("Erro ao salvar: "+err);});
}

// MIX (mesma lÃ³gica)
function abrirMix(){ fecharTudo(); document.getElementById("telaMix").style.display="flex"; startTimer('tempoMix',60,'comprovanteMix');}
function iniciarMix(){ const nome = document.getElementById("nomeMix").value; if(!nome){alert("Digite seu nick");return;} document.getElementById("comprovanteMix").style.display="block"; document.getElementById("btnFinalizarMix").disabled=false;}
function abrirZapMix(){ window.open('https://w.app/8mysvz',"_blank");}

// Pop-up
function showPopUp(msg){
  const pop = document.getElementById("popUp");
  pop.innerHTML=msg;
  pop.style.opacity=1;
  setTimeout(()=>{pop.style.opacity=0;},4000);
}
</script>
</body>
</html>
