<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Eventos SABR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,sans-serif;
  color:#fff;
  background:#000 url("fundo-pc-1920x1080.png") center/cover no-repeat;
}
@media(max-width:768px){
  body{background-image:url("fundo-mobile-1080x1920.png")}
}

.overlay{
  min-height:100vh;
  background:rgba(0,0,0,.65);
  display:flex;
  align-items:center;
  justify-content:center;
}

.content{text-align:center}

.logo{
  max-width:260px;
  width:80%;
  margin-bottom:20px
}

h1{font-size:38px;margin:10px 0}
p{opacity:.9}

/* Neon pulsante */
@keyframes neonPulse {
  0%, 100% { text-shadow: 0 0 5px #fff, 0 0 10px #fff; }
  50% { text-shadow: 0 0 15px #ff073a, 0 0 30px #ff073a; }
}
@keyframes glowPulse {
  0%, 100% { box-shadow: 0 0 5px #fff, 0 0 10px #fff; }
  50% { box-shadow: 0 0 15px #ff073a, 0 0 30px #ff073a; }
}

.btn{
  display:block;
  width:320px;
  max-width:100%;
  padding:18px;
  margin:12px auto;
  border:none;
  border-radius:12px;
  font-size:18px;
  font-weight:bold;
  cursor:pointer;
  color:#fff;
  transition: 0.3s;
}
.btn:hover{
  filter: brightness(1.3);
}

/* Neon cores pulsantes */
.btn-inscricao{ background: #ff073a; animation: glowPulse 1.5s infinite; }
.btn-tabela{ background: #1e90ff; animation: glowPulse 1.5s infinite; }
.btn-jornal{ background: #00ffcc; animation: glowPulse 1.5s infinite; }
.btn-mix{ background: #ff00ff; animation: glowPulse 1.5s infinite; }
.btn-torneio{ background: #ff4500; animation: glowPulse 1.5s infinite; }
.btn-camp{ background: #ffff00; color:#000; animation: glowPulse 1.5s infinite; }
.btn-vetos{ background: #00ff00; animation: glowPulse 1.5s infinite; }
.btn-voltar{ background: #ff0000; animation: glowPulse 1.5s infinite; }

/* Pop-ups / caixas */
.tela{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.box{
  background:#111;
  padding:25px;
  border-radius:15px;
  width:100%;
  max-width:420px;
  text-align:center;
  box-shadow: 0 0 15px #ff073a, 0 0 30px #ff073a inset;
}

input{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:none;
  margin-bottom:10px;
  background:#222;
  color:#fff;
  box-shadow: 0 0 5px #00ffcc;
}
input::placeholder{ color:#888; }

#tempoPagar{
  color:#ff4500;
  font-weight:bold;
  text-shadow: 0 0 5px #ff4500, 0 0 10px #ff4500;
  animation: neonPulse 1.5s infinite;
}

button:disabled{opacity:.5}

/* Aviso Torneio SAGS */
#avisoPremiacao{
  margin:10px 0;
  font-size:16px;
  color:#ffdc00;
  font-weight:bold;
  text-shadow:0 0 4px #ff073a;
  animation: neonPulse 1.5s infinite;
}
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

</head>
<body>

<!-- TELA PRINCIPAL -->
<div class="overlay">
  <div class="content">
    <img src="logo.png" class="logo">
    <h1>EVENTOS SABR</h1>
    <p>GAMER SIGNAL Brasil</p>

    <button class="btn btn-inscricao" onclick="abrirEscolha()">üìù INSCREVER-SE</button>
    <a href="ranking.html" class="btn btn-tabela">üìä RANKING DE CLANS</a>
    <a href="tabelas-sags.html" class="btn btn-torneio" onclick="mensagemInscricao()">üìä TABELAS SAGS</a>
    <a href="jornal.html" class="btn btn-jornal">üì∞ JORNAL SABR</a>
    <button class="btn btn-vetos" onclick="window.location.href='vetos.html'">üéÆ Vetos de Mapas</button>
    <footer style="margin-top:30px;font-size:14px;opacity:.8">¬© 2026 ‚Ä¢ Eventos SABR</footer>
  </div>
</div>

<!-- ESCOLHA DE INSCRI√á√ÉO -->
<div id="telaEscolha" class="tela">
  <div class="content">
    <h1>ESCOLHA A INSCRI√á√ÉO</h1>
    <button class="btn btn-mix" onclick="abrirMix()">üéÆ INSCRI√á√ÉO MIX</button>
    <button class="btn btn-torneio" onclick="abrirTorneio()">üèÜ TORNEIO SAGS</button>
    <button class="btn btn-camp" onclick="abrirCamp()">ü•á INSCRI√á√ÉO CAMPEONATO</button>
    <button class="btn btn-voltar" onclick="fecharTudo()">‚ùå VOLTAR</button>
  </div>
</div>

<!-- MIX -->
<div id="telaMix" class="tela">
  <div class="box">
    <h1>MIX SA</h1>
    <p><strong>Valor: R$ 4,00</strong></p>
    <input id="nome" placeholder="Digite seu nick">
    <p><strong>PIX:</strong></p>
    <p>SUA_CHAVE_PIX_AQUI</p>
    <img src="qrcode-pix.png" width="150">
    <button class="btn btn-inscricao" onclick="liberar()">J√Å PAGUEI</button>
    <div class="roleta" id="roleta">?</div>
    <button class="btn btn-mix" id="btnGirar" onclick="girar()" disabled>üéØ GIRAR ROLETA</button>
    <p id="resultado"></p>
    <button class="btn btn-voltar" onclick="fecharTudo()">‚ùå SAIR</button>
  </div>
</div>

<!-- TORNEIO SAGS -->
<div id="telaTorneio" class="tela">
  <div class="box">
    <h1>TORNEIO SAGS</h1>

    <!-- Aviso da premia√ß√£o -->
    <p id="avisoPremiacao">
      üèÜ Pr√™mio entregue no t√©rmino do torneio, sendo 10% da CASA.<br>
      Inscri√ß√£o at√© dia 13 (ter√ßa-feira). Torneio na quarta-feira √†s 21h!
    </p>

    <input id="nickTorneio" placeholder="Digite seu nick">
    <input id="clanTorneio" placeholder="Nome do seu Clan">

    <p><strong>PIX:</strong></p>
    <p id="pixKey">0601c368-3f42-4cef-82b5-5d64bbcb49ff</p>
    <button class="btn btn-torneio" onclick="copiarPix()">üìã COPIAR PIX</button>
    <img src="qrcode-pix.png" width="150">

    <p id="tempoPagar">‚è± 01:00</p>
    <button class="btn btn-torneio" id="btnContinuar" onclick="mostrarComprovante()" style="display:none;">‚û° CONTINUAR</button>

    <div id="comprovanteDiv" style="display:none; margin-top:15px;">
      <button class="btn btn-torneio" onclick="abrirZap()">üì© ENVIAR COMPROVANTE</button>
    </div>

    <button class="btn btn-torneio" id="btnFinalizarTorneio" onclick="finalizarTorneio()">‚úÖ FINALIZAR INSCRI√á√ÉO</button>

    <p id="resultadoTorneio" style="margin-top:15px;"></p>
    <button class="btn btn-voltar" onclick="fecharTudo()">‚ùå VOLTAR</button>
  </div>
</div>

<script>
// Firebase
const firebaseConfig = {
  apiKey: "AIzaSyCJShIcpEuOxk5VbCsX6yI23pyNRNoKsJw",
  authDomain: "torneio-sags.firebaseapp.com",
  projectId: "torneio-sags",
  storageBucket: "torneio-sags.firebasestorage.app",
  messagingSenderId: "892896599237",
  appId: "1:892896599237:web:d4638d2aedda0c5e2324ac"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Fun√ß√µes Gerais
function abrirEscolha(){ document.getElementById("telaEscolha").style.display="flex"; }
function fecharTudo(){ document.querySelectorAll(".tela").forEach(t=>t.style.display="none"); }

// Mostrar aviso de inscri√ß√£o 50 reais ao clicar no bot√£o TORNEIO SAGS
function mensagemInscricao(){
  alert("üí∞ INSCRI√á√ÉO 50 REAIS");
}

// MIX
let jaGirou=false;
function liberar(){
  const nomeInput = document.getElementById("nome");
  const btnGirar = document.getElementById("btnGirar");
  if(!nomeInput.value){ alert("Digite seu nick"); return; }
  btnGirar.disabled=false;
}
function girar(){
  if(jaGirou) return;
  jaGirou=true;
  const btnGirar = document.getElementById("btnGirar");
  const roleta = document.getElementById("roleta");
  const resultado = document.getElementById("resultado");
  btnGirar.disabled=true;
  let tempo=0;
  let anim=setInterval(()=>{
    roleta.innerText=Math.floor(Math.random()*8)+1;
    tempo+=100;
    if(tempo>=2000){
      clearInterval(anim);
      resultado.innerHTML="‚úÖ Voc√™ ficou na <b>SALA "+roleta.innerText+"</b>";
    }
  },100);
}

// TORNEIO
function abrirTorneio(){
  fecharTudo();
  document.getElementById("telaTorneio").style.display="flex";
  startTimer(60);
}

function copiarPix(){
  const pixKey = document.getElementById("pixKey").innerText;
  navigator.clipboard.writeText(pixKey);
  alert("PIX copiado!");
}

let timerInterval;
function startTimer(segundos){
  let tempo = segundos;
  const tempoPagar = document.getElementById("tempoPagar");
  const btnContinuar = document.getElementById("btnContinuar");
  tempoPagar.style.display = "block";
  timerInterval = setInterval(()=>{
    let min = String(Math.floor(tempo/60)).padStart(2,'0');
    let sec = String(tempo%60).padStart(2,'0');
    tempoPagar.innerText = `‚è± ${min}:${sec}`;
    if(tempo<=0){
      clearInterval(timerInterval);
      btnContinuar.style.display="block";
      tempoPagar.style.display="none";
    }
    tempo--;
  },1000);
}

function mostrarComprovante(){
  document.getElementById("comprovanteDiv").style.display="block";
}

function abrirZap(){
  const nick = document.getElementById("nickTorneio").value;
  const clan = document.getElementById("clanTorneio").value;
  const zapLink = `https://w.app/8mysvz?text=Ol√°!%20Segue%20o%20comprovante%20da%20inscri√ß√£o.%20Nick:${encodeURIComponent(nick)}%20Clan:${encodeURIComponent(clan)}`;
  window.open(zapLink, "_blank");
  document.getElementById("btnFinalizarTorneio").disabled = false;
}

// Finalizar inscri√ß√£o
function finalizarTorneio(){
  const nick = document.getElementById("nickTorneio").value.trim();
  const clan = document.getElementById("clanTorneio").value.trim();
  if(!nick || !clan){ alert("Preencha os campos antes de finalizar!"); return; }

  db.collection("inscricoes").add({
    nick: nick,
    clan: clan,
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  }).then(()=>{
    const resultado = document.getElementById("resultadoTorneio");
    resultado.innerHTML = "‚úÖ Cadastrado com sucesso!<br>S√≥ ser√° confirmado quando chegar o comprovante no WhatsApp.";
    resultado.style.opacity = 0;
    resultado.style.transition = "opacity 0.5s";
    setTimeout(()=>{ resultado.style.opacity = 1; },50);
    document.getElementById("btnFinalizarTorneio").disabled = true;
  }).catch(err=>{
    alert("Erro ao enviar inscri√ß√£o: "+err);
  });
}

// Fun√ß√µes placeholders
function abrirMix(){ document.getElementById("telaMix").style.display="flex"; }
function abrirCamp(){ alert("Inscri√ß√£o Campeonato em constru√ß√£o"); }

</script>
</body>
</html>
